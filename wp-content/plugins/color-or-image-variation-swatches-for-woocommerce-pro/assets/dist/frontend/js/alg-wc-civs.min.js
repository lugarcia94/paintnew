/**
 * @summary Main JS of Color or Image Variation Swatches for WooCommerce
 *
 * @version   1.0.9
 * @since     1.0.0
 * @requires  jQuery.js
 */
var alg_wc_civs={};jQuery(function(e){alg_wc_civs={term_selector:null,original_select_selector:null,init:function(){this.term_selector=".alg-wc-civs-term",this.original_select_selector=".alg-wc-civs-original-select select",this.sync_terms_and_selects(),e(".variations_form").bind("woocommerce_update_variation_values",function(){alg_wc_civs.remove_invalid_attributes()})},remove_invalid_attributes:function(){var t=e(this.original_select_selector),i=e(this.term_selector);i.addClass("disabled"),t.each(function(){var t=e(this).find("option:not([disabled])");t.each(function(){var t=e(this).attr("value"),i=e(this).closest("td").find(alg_wc_civs.term_selector+'[data-value="'+t+'"]');i.removeClass("disabled")})})},sync_terms_and_selects:function(){var t=this.term_selector,i=this.original_select_selector;jQuery("body").on("click",t,function(){var t=e(this).attr("data-attribute"),i=e("select#"+t),s=e(this).attr("data-value"),c=i.find('option[value="'+s+'"]');e(this).hasClass("active")?i.val("").trigger("change"):c.length||!e(this).hasClass("disabled")?(c.prop("selected",!0),i.trigger("change")):(window.alert(wc_add_to_cart_variation_params.i18n_no_matching_variations_text),i.val("").trigger("change")),alg_wc_civs.remove_invalid_attributes()}),jQuery("body").on("change",i,function(){var i=e(this).closest("td").find(t),s=e(this).find("option:selected").attr("value");i.removeClass("active");var c=e(this).closest("td").find(t+'[data-value="'+s+'"]'),l={type:"alg_wc_civs_term_click",term:null,select:e(this),active:!1};c.length&&(c.addClass("active"),l.active=!0,l.term=c),e("body").trigger(l),alg_wc_civs.remove_invalid_attributes()}),e(i).trigger("change")}},alg_wc_civs.init(),e("body").trigger({type:"alg_wc_civs",obj:alg_wc_civs})}),alg_wc_civs_select2=null,jQuery(document).ready(function(e){function t(e){alg_wc_civs_select2.term_selector=e.term_selector,alg_wc_civs_select2.original_select_selector=e.original_select_selector,alg_wc_civs_select2.init()}alg_wc_civs_select2={term_selector:null,original_select_selector:null,init:function(){function t(t){if(!t.id)return t.text;var i=e(term_str+'[data-value="'+t.id+'"]').prop("outerHTML"),s=e('<span class="alg-wc-civs-select2-img-wrapper">'+i+'</span><span class="alg-wc-civs-select2-label">'+t.text+"</span>");return s}term_str=this.term_selector,select_str=this.original_select_selector,e(select_str).select2({templateResult:t,templateSelection:t,width:"100%"})}},alg_wc_civs_opt.use_select2&&("undefined"==typeof alg_wc_civs||jQuery.isEmptyObject(alg_wc_civs)?jQuery("body").on("alg_wc_civs",function(e){alg_wc_civs=e.obj,t(alg_wc_civs)}):t(alg_wc_civs))}),alg_wc_civs_soptc=null,jQuery(function(e){function t(e){alg_wc_civs_soptc.term_selector=e.term_selector,alg_wc_civs_soptc.original_select_selector=e.original_select_selector,alg_wc_civs_soptc.init()}alg_wc_civs_soptc={term_selector:null,original_select_selector:null,init:function(){term_str=this.term_selector,select_str=this.original_select_selector,e("body").on("change",select_str,function(){e(term_str).each(function(){var t=jQuery(this).parent().attr("data-attribute"),i=jQuery(this).attr("data-value"),s=e(select_str).filter('[id="'+t+'"]'),c=s.find('option[value="'+i+'"]');c.length?jQuery(this).removeClass("disabled"):jQuery(this).addClass("disabled")})})}},alg_wc_civs_opt.only_valid_term_combinations&&("undefined"==typeof alg_wc_civs||jQuery.isEmptyObject(alg_wc_civs)?jQuery("body").on("alg_wc_civs",function(e){alg_wc_civs=e.obj,t(alg_wc_civs)}):t(alg_wc_civs))}),alg_wc_civs_term_pointer=null,jQuery(function(e){function t(e){alg_wc_civs_term_pointer.term_selector=e.term_selector,alg_wc_civs_term_pointer.original_select_selector=e.original_select_selector,alg_wc_civs_term_pointer.init()}alg_wc_civs_term_pointer={term_selector:null,original_select_selector:null,pointer_selector:".alg-wc-civs-term-pointer",pointer_offset:6,init:function(){term_str=this.term_selector,select_str=this.original_select_selector,pointer_str=this.pointer_selector,this.add_pointer();var t=new MutationObserver(function(e){alg_wc_civs_term_pointer.add_pointer()}),i={attributes:!0,childList:!0,characterData:!0};t.observe(document.body,i),e("body").on("alg_wc_civs_term_click",function(e){if(e.term){var t=e.term,i=t.parent().find(pointer_str);i.removeClass("disabled");i.css("left",t.position().left),i.css("top",t.position().top+t.height()+alg_wc_civs_term_pointer.pointer_offset+parseInt(t.css("marginTop"))),i.css("width",t.innerWidth()+parseInt(t.css("border-left-width"))+parseInt(t.css("border-right-width")))}else{var s=e.select,i=s.parent().parent().find(pointer_str);i.addClass("disabled")}})},add_pointer:function(){jQuery(".alg-wc-civs-attribute "+this.pointer_selector).length||jQuery(".alg-wc-civs-attribute").append('<span class="'+this.pointer_selector.substring(1)+' disabled"></span>')}},"undefined"==typeof alg_wc_civs||jQuery.isEmptyObject(alg_wc_civs)?jQuery("body").on("alg_wc_civs",function(e){alg_wc_civs=e.obj,t(alg_wc_civs)}):t(alg_wc_civs)});